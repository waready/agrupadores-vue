"use strict";(self["webpackChunkIndicadores"]=self["webpackChunkIndicadores"]||[]).push([[1],{67036:function(a,i,s){s.r(i),s.d(i,{default:function(){return ba}});var o=s(73396),e=s(87139),c=s(49242);const n={key:0},t=(0,o._)("h2",null,"Estado Transacciones",-1),r=(0,o._)("hr",null,null,-1),d=(0,o._)("div",{class:"col-12 mt-3 mb-1"},[(0,o._)("h4",{class:"text-uppercase"},"Detalle"),(0,o._)("p",null,"Detalle Transacciones")],-1),l={class:"row"},u={class:"col-7 d-flex justify-content-center"},p={class:"col-5"},v={class:"col-12"},g={class:"card"},m={class:"card-content"},b={class:"card-body"},h={class:"media d-flex"},_=(0,o._)("div",{class:"align-self-center"},[(0,o._)("i",{class:"icon-graph info font-large-2 float-left"})],-1),f={class:"media-body text-right"},y=(0,o._)("span",null,"Total de Transacciones",-1),w={class:"col-12"},z={class:"card v-10"},k={class:"card-content"},M={class:"card-body"},E={class:"media d-flex"},T=(0,o._)("div",{class:"align-self-center"},[(0,o._)("i",{class:"icon-graph success font-large-2 float-left"})],-1),D={class:"media-body text-right"},S=(0,o._)("span",null,"Contabilizadas con Éxito",-1),x={class:"col-12"},P={class:"card"},B={class:"card-content"},C={class:"card-body"},L={class:"media d-flex"},N=(0,o._)("div",{class:"align-self-center"},[(0,o._)("i",{class:"icon-graph danger font-large-2 float-left"})],-1),j={class:"media-body text-right"},A=(0,o._)("span",null,"Contabilizadas con Error",-1),H={class:"col-12"},O={class:"card"},R={class:"card-content"},q={class:"card-body"},I={class:"media d-flex"},X=(0,o._)("div",{class:"align-self-center"},[(0,o._)("i",{class:"icon-graph warning font-large-2 float-left"})],-1),Z={class:"media-body text-right"},$=(0,o._)("span",null,"Otros",-1),F=(0,o._)("hr",null,null,-1),G={class:"row justify-content-md-center"},K={class:"col-md-8"},U={key:0,class:"fas fa-long-arrow-alt-up"},Y={key:1,class:"fas fa-long-arrow-alt-down"},Q={key:0,class:"row"},V={class:"container"},W={class:"row"},J={class:"col-md-7 mt-3"},aa={class:"form-group"},ia=(0,o._)("label",{for:"inputGroupSelect01"},"Movimiento",-1),sa=(0,o._)("option",{value:""},"(Todos)",-1),oa=["value"],ea={class:"row justify-content-md-center"},ca={class:"col-md-12 mt-1"},na={class:"table"},ta=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"Movimiento"),(0,o._)("th",{scope:"col"},"Cantidad")])],-1);function ra(a,i,s,ra,da,la){const ua=(0,o.up)("Pie"),pa=(0,o.up)("loading");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.wy)((0,o._)("div",{class:"alert alert-warning",role:"alert"},(0,e.zw)(a.message+"!"),513),[[c.F8,a.message]]),a.transacciones?((0,o.wg)(),(0,o.iD)("div",n,[t,r,d,(0,o._)("div",l,[(0,o._)("div",u,[(0,o.Wm)(ua,{id:"my-chart-id",data:a.chartData,style:(0,e.j5)(la.myStyles)},null,8,["data","style"])]),(0,o._)("div",p,[(0,o._)("div",v,[(0,o._)("div",g,[(0,o._)("div",m,[(0,o._)("div",b,[(0,o._)("div",h,[_,(0,o._)("div",f,[(0,o._)("h4",null,(0,e.zw)(a.transacciones.exito+a.transacciones.error+a.transacciones.otros),1),y])])])])])]),(0,o._)("div",w,[(0,o._)("div",z,[(0,o._)("div",k,[(0,o._)("div",M,[(0,o._)("div",E,[T,(0,o._)("div",D,[(0,o._)("h4",null,(0,e.zw)(a.transacciones.exito),1),S])])])])])]),(0,o._)("div",x,[(0,o._)("div",P,[(0,o._)("div",B,[(0,o._)("div",C,[(0,o._)("div",L,[N,(0,o._)("div",j,[(0,o._)("h4",null,(0,e.zw)(a.transacciones.error),1),A])])])])])]),(0,o._)("div",H,[(0,o._)("div",O,[(0,o._)("div",R,[(0,o._)("div",q,[(0,o._)("div",I,[X,(0,o._)("div",Z,[(0,o._)("h4",null,(0,e.zw)(a.transacciones.otros),1),$])])])])])])])]),F,(0,o._)("div",G,[(0,o._)("div",K,[(0,o._)("button",{type:"button",class:"btn btn-outline-primary btn-lg btn-block",onClick:i[0]||(i[0]=i=>a.detalle=!a.detalle)},[(0,o.Uk)((0,e.zw)(a.detalle?"ocultar detalle transacciones ":"ver detalle transacciones")+" ",1),a.detalle?((0,o.wg)(),(0,o.iD)("i",U)):((0,o.wg)(),(0,o.iD)("i",Y))])])]),a.detalle?((0,o.wg)(),(0,o.iD)("div",Q,[(0,o._)("div",V,[(0,o._)("div",W,[(0,o._)("div",J,[(0,o._)("div",aa,[ia,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":i[1]||(i[1]=i=>a.busqueda=i),class:"custom-select",id:"inputGroupSelect01",placeholder:"elegir"},[sa,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.labels,((a,i)=>((0,o.wg)(),(0,o.iD)("option",{key:i,value:a.id},(0,e.zw)(a.description),9,oa)))),128))],512),[[c.bM,a.busqueda]])])])]),(0,o._)("div",ea,[(0,o._)("div",ca,[(0,o._)("table",na,[ta,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(la.transaccionFiltrada,((a,i)=>((0,o.wg)(),(0,o.iD)("tr",{key:i},[(0,o._)("td",null,(0,e.zw)(a.descripcion),1),(0,o._)("td",{class:(0,e.C_)(la.isPrimaryBadge(a.descripcion))},(0,e.zw)(a.cantidad),3)])))),128))])])])])])])):(0,o.kq)("",!0)])):((0,o.wg)(),(0,o.j4)(pa,{key:1}))])}s(57658);var da=s(15866),la=s(29646),ua=s(11393),pa=s(28666);la.kL.register(la.l7,la.qi,la.Dx,la.u,la.De,la.jn,la.f$,la.uw,la.od,la.ZL);var va={name:"RubroBolsa",components:{Bar:da.$Q,Pie:da.by,loading:pa.Z},mounted(){this.fetchTansaccionEstado()},beforeDestroy(){clearTimeout(this.timeoutId)},beforeRouteLeave(a,i,s){clearTimeout(this.timeoutId),s()},data:()=>({detalle:!1,busqueda:"",transacciones:null,message:"",timeoutId:null,transaccionesOrdenadas:[],chartData:{},labels:[{id:"(A)",description:"Movimiento autorizado sin contabilizar"},{id:"(B)",description:"Movimiento de ingreso batch no contabilizado"},{id:"(E)",description:"Movimiento con errores"},{id:"(H)",description:"Movimiento contabilizado y pasado al histórico"},{id:"(L)",description:"Movimiento de ingreso libre no contabilizado"},{id:"(M)",description:"Movimiento con autorizaciones pendientes"},{id:"(N)",description:"Movimiento ingresado por el transaccional no contabilizado"},{id:"(P)",description:"Movimiento contabilizado, pasado al histórico, con archivos de saldos históricos actualizados"},{id:"(R)",description:"Movimiento con autorizaciones denegadas"},{id:"(S)",description:"Movimiento contabilizado sin pasar al histórico"},{id:"(X)",description:"Movimiento con autoriz. p/tipo cambio ingresado, para ser retomado"},{id:"Sin especificar",description:"Sin especificar"}],chartOptions:{responsive:!0,legend:{display:!1},tooltips:{enabled:!1}}}),methods:{isPrimaryBadge(a){const i=["A","B","L","N","X","SP"],s=["E","R"],o=["H","(S)"];return i.some((i=>a.includes(i)))?"table-warning":s.some((i=>a.includes(i)))?"table-danger":o.some((i=>a.includes(i)))?"table-success":"table-warning"},async fetchTansaccionEstado(){await this.getAllTansaccionEstado(),this.timeoutId=setTimeout(this.fetchTansaccionEstado,3e5)},async getAllTansaccionEstado(){await ua.Z.getTansaccionEstado().then((a=>{a.Erroresnegocio&&a.Erroresnegocio.BTErrorNegocio[0]&&(this.message=a.Erroresnegocio.BTErrorNegocio[0].Descripcion,"Sesión inválida"==this.message&&setTimeout((()=>{ua.Z.logout(),this.$store.dispatch("logout"),this.$router.push("/login")}),3e3)),this.transacciones=a.sdtTransaccionesEstados,this.transacciones||(this.message="No se encuentran registros!"),this.transaccionesOrdenadas=Object.keys(this.transacciones).filter((a=>a.includes("transaccion"))).map((a=>{const i={codigo:a,descripcion:"",cantidad:this.transacciones[a]};switch(a){case"transaccionA":i.descripcion="Movimiento autorizado sin contabilizar(A)";break;case"transaccionB":i.descripcion="Movimiento de ingreso batch no contabilizado(B)";break;case"transaccionE":i.descripcion="Movimiento con errores(E)";break;case"transaccionH":i.descripcion="Movimiento contabilizado y pasado al histórico(H)";break;case"transaccionL":i.descripcion="Movimiento de ingreso libre no contabilizado(L)";break;case"transaccionM":i.descripcion="Movimiento con autorizaciones pendientes(M)";break;case"transaccionN":i.descripcion="Movimiento ingresado por el transaccional no contabilizado(N)";break;case"transaccionP":i.descripcion="Movimiento contabilizado, pasado al histórico, con archivos de saldos históricos actualizados(P)";break;case"transaccionR":i.descripcion="Movimiento con autorizaciones denegadas(R)";break;case"transaccionS":i.descripcion="Movimiento contabilizado sin pasar al histórico(S)";break;case"transaccionSP":i.descripcion="Sin especificar";break;case"transaccionX":i.descripcion="Movimiento con autoriz. p/tipo cambio ingresado, para ser retomado(X)";break}return i})).sort(((a,i)=>"transaccionSP"===a.codigo?1:"transaccionSP"===i.codigo?-1:a.codigo.localeCompare(i.codigo)));const i=a.sdtTransaccionesEstados.exito||0,s=a.sdtTransaccionesEstados.error||0,o=a.sdtTransaccionesEstados.otros||0;this.chartData={labels:["Éxito","Error","Otros"],datasets:[{label:"Cantidad",backgroundColor:["#16d39a","#ff7588","#ffa87d"],data:[i,s,o]}]}}))}},computed:{myStyles(){return{height:"400px"}},transaccionFiltrada(){const a=[],i=[],s=[];this.transaccionesOrdenadas.forEach((o=>{const e=o.codigo.slice(-1);["A","B","L","N","X","SP","M","P"].includes(e)?a.push(o):["E","R"].includes(e)?i.push(o):["H","S"].includes(e)&&s.push(o)})),a.sort(((a,i)=>i.cantidad-a.cantidad)),i.sort(((a,i)=>i.cantidad-a.cantidad)),s.sort(((a,i)=>i.cantidad-a.cantidad));const o=[...a,...i,...s],e=o.filter((a=>{const i=a.descripcion;return i.includes(this.busqueda)}));return e}}},ga=s(40089);const ma=(0,ga.Z)(va,[["render",ra]]);var ba=ma}}]);
//# sourceMappingURL=1.eb55ef67.js.map