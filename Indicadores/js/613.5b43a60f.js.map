{"version":3,"file":"js/613.5b43a60f.js","mappings":"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","sources":["webpack://Indicadores/./src/pages/indicador/EjecucionesPorServicio/Metodos.vue","webpack://Indicadores/./src/pages/indicador/EjecucionesPorServicio/Metodos.vue?df18"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <h2>Métodos Ejecutados de {{ this.objeto }}</h2>\r\n    <div v-if=\"cajas\">\r\n      <hr />\r\n      <div class=\"row\">\r\n        <div class=\"col-6 d-flex justify-content-center\">\r\n          <Pie id=\"my-chart-id\" :data=\"chartData\" :style=\"myStyles\" :options=\"optionsChar\" />\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <div class=\"row\">\r\n            <div class=\"col-6 text-truncate\" v-for=\"(item, index) in ServiciosEjecutados\" :key=\"item.servicio\">\r\n              <div class=\"card mb-3\">\r\n                <div class=\"card-content\">\r\n                  <div class=\"card-body\">\r\n                    <div class=\"media d-flex\">\r\n                      <div class=\"align-self-center\">\r\n                        <i class=\"icon-pie-chart font-large-1 float-left\" :style=\"{ color: getOrderedColor(index) }\"></i>\r\n                      </div>\r\n                      <div class=\"media-body\">\r\n                        <span class=\"d-inline-block text-truncate\" style=\"max-width: 140px; font-size: smaller;\">{{ item.metodo }}</span>\r\n                        <p class=\"ml-3\"> {{ item.cantidadEjecuciones }}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12 card\">\r\n          <div class=\"card-body\">\r\n            <h3>Detalle de Métodos</h3>\r\n            <div class=\"\">\r\n              <v-client-table ref=\"table\" :data=\"ServiciosEjecutados\" :columns=\"columns\" :options=\"options\">\r\n                <!-- <template v-slot:tiempoMaximo=\"item\">\r\n                  <a :class=\"[\r\n                    'badge badge-danger  text-white font-weight-bold',\r\n                    'letter'\r\n                  ]\">\r\n                    {{ item.row.tiempoMaximo }}</a>\r\n                </template>\r\n                <template v-slot:tiempoMinimo=\"item\">\r\n                  <a :class=\"[\r\n                    'badge badge-succes  text-white font-weight-bold',\r\n                    'letter'\r\n                  ]\">\r\n                    {{ item.row.tiempoMinimo }}</a>\r\n                </template>\r\n                <template v-slot:tiempoPromedio=\"item\">\r\n                  <a :class=\"[\r\n                    'badge badge-warning  text-white font-weight-bold',\r\n                    'letter'\r\n                  ]\">\r\n                    {{ item.row.tiempoPromedio }}</a>\r\n                </template> -->\r\n              </v-client-table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <loading v-else></loading>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from \"chart.js\";\r\nimport { Pie } from \"vue-chartjs\";\r\nimport AuthService from \"@/utils/AuthService\";\r\nimport loading from \"@/components/Loading.vue\";\r\nimport { ServerTable } from \"v-tables-3\";\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nexport default {\r\n  name: \"metodos\",\r\n  mounted() {\r\n    this.objeto = this.$route.query.datos;\r\n    //console.log('Datos recibidos:', this.objeto);\r\n    this.fetchMetodos();\r\n  },\r\n  beforeDestroy() {\r\n    clearTimeout(this.timeoutId);\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    clearTimeout(this.timeoutId);\r\n    next();\r\n  },\r\n  components: { Pie, loading, ServerTable },\r\n  data() {\r\n    return {\r\n      objeto: null,\r\n      Sucursal: null,\r\n      cajasA: true,\r\n      cajasB: false,\r\n      cajas: false,\r\n      ServiciosEjecutados: [],\r\n      mostrar: false,\r\n      sesiones: null,\r\n      TextoBuscado: \"\",\r\n      cajasSelect: null,\r\n      cajasAbiertas: [],\r\n      cajasCerradas: [],\r\n      cajasAbiertasPremiun: [],\r\n      cajasCerradasPremiun: [],\r\n      optionsChar: {\r\n        maintainAspectRatio: false\r\n      },\r\n      chartData: {\r\n        labels: [\"January\", \"February\", \"March\"],\r\n        datasets: [\r\n          {\r\n            //backgroundColor: [\"#41B883\", \"#E46651\", \"#00D8FF\"],\r\n            data: [40, 20, 12]\r\n          }\r\n        ]\r\n      },\r\n      columns: [\r\n        \"metodo\",\r\n        \"cantidadEjecuciones\",\r\n        \"tiempoPromedio\",\r\n        \"tiempoMaximo\",\r\n        \"tiempoMinimo\",\r\n      ],\r\n      options: {\r\n        sortIcon: {\r\n          is: \"fa-sort\", // utiliza iconos de Font Awesome\r\n          base: \"fa\",\r\n          up: \"fa-sort-asc\",\r\n          down: \"fa-sort-desc\"\r\n        },\r\n        // see the options API\r\n        texts: {\r\n          count:\r\n            \"Mostrando {from} a {to} de {count} registros |{count} registros|Un registro\",\r\n          first: \"Primero\",\r\n          last: \"Ultimo\",\r\n          filter: \"Filtro:\",\r\n          filterPlaceholder: \"Búsqueda\",\r\n          limit: \"Registros:\",\r\n          page: \"Pagina:\",\r\n          noResults: \"No hay registros coincidentes\",\r\n          noRequest: \"Seleccione al menos un filtro para obtener resultados\",\r\n          filterBy: \"Filtrar por {column}\",\r\n          loading: \"Cargando...\",\r\n          defaultOption: \"Seleccionar {column}\",\r\n          columns: \"Columnas\"\r\n        },\r\n        // filterByColumn: true,\r\n        perPage: 10,\r\n        perPageValues: [10, 25, 50, 100, 500],\r\n        headings: {\r\n          // id: 'ID',\r\n          metodo: \"Nombre\",\r\n          tiempoMaximo: \"Tiempo máx\",\r\n          tiempoMinimo: \"Tiempo mín\",\r\n          tiempoPromedio: \"Tiempo promedio\",\r\n          cantidadEjecuciones: \"Cantidad ejecuciones\",\r\n        }\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    getAdjustedColor(color) {\r\n      const colorNum = Math.max(0, parseInt(color.slice(1), 16) - 50);\r\n      const adjustedColor = `#${colorNum.toString(16).padStart(6, '0').toUpperCase()}`;\r\n      return adjustedColor;\r\n    }, \r\n    getOrderedColor(index) {\r\n      const colors = ['#FF5454', '#FFFF90', '#60C1FF', '#FFC670', '#8CC76D', '#C187E8', '#5D5A5D']; // rojo, amarillo, azul, naranja, verde, violeta, negro\r\n      let color = colors[index % colors.length];\r\n      // Ajustar el color si es repetido\r\n      if (index >= colors.length) {\r\n        color = this.getAdjustedColor(color);\r\n      }\r\n      return color;\r\n    },\r\n    async fetchMetodos() {\r\n      await this.getAllMetodos();\r\n      this.timeoutId = setTimeout(this.fetchMetodos, 5 * 60 * 1000);\r\n    },\r\n    async getAllMetodos() {\r\n      await AuthService.getMetodosMasEjecutados(this.objeto).then((response) => {\r\n        if (response.Erroresnegocio) {\r\n          if (response.Erroresnegocio.BTErrorNegocio[0]) {\r\n            this.message =\r\n              response.Erroresnegocio.BTErrorNegocio[0].Descripcion;\r\n            if (this.message == \"Sesión inválida\") {\r\n              setTimeout(() => {\r\n                AuthService.logout();\r\n                this.$store.dispatch(\"logout\");\r\n                this.$router.push(\"/login\");\r\n              }, 3000);\r\n            }\r\n          }\r\n        }\r\n        this.cajas = true;\r\n        this.ServiciosEjecutados = response.sdtEstadisticasMetodos.sBTEstadisticasMetodo;\r\n\r\n        this.chartData = {\r\n          //labels: this.ServiciosEjecutados.map(servicio => servicio.metodo),\r\n          datasets: [\r\n            {\r\n              label: 'Cantidad de Ejecuciones',\r\n              backgroundColor: this.ServiciosEjecutados.map((_, index) => this.getOrderedColor(index)),\r\n              data: this.ServiciosEjecutados.map(servicio => servicio.cantidadEjecuciones)\r\n            }\r\n          ]\r\n        };\r\n\r\n        $(document).ready(function () {\r\n          $(\".VuePagination__count\").text(function (i, text) {\r\n            return text.replace(\"Un registro\", \"1 registro\");\r\n          });\r\n          $(\".VueTables__search-field label\").hide();\r\n          //$(\".VueTables__search\").addClass(\"float-right\");\r\n          $(\".VueTables__limit-field label\").hide();\r\n          $(\".VuePagination__pagination\").addClass(\"justify-content-center\");\r\n        });\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    myStyles() {\r\n      return {\r\n        height: `${500}px`\r\n        //position: \"relative\"\r\n      };\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.app-store-map {\r\n  width: 100%;\r\n  height: 500px;\r\n}\r\n</style>\r\n","import { render } from \"./Metodos.vue?vue&type=template&id=5641c58a&scoped=true\"\nimport script from \"./Metodos.vue?vue&type=script&lang=js\"\nexport * from \"./Metodos.vue?vue&type=script&lang=js\"\n\nimport \"./Metodos.vue?vue&type=style&index=0&id=5641c58a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5641c58a\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_toDisplayString","objeto","$data","cajas","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_Pie","id","data","chartData","_normalizeStyle","$options","myStyles","options","optionsChar","_hoisted_6","_hoisted_7","_Fragment","_renderList","ServiciosEjecutados","item","index","key","servicio","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","color","getOrderedColor","_hoisted_13","_hoisted_14","metodo","_hoisted_15","cantidadEjecuciones","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_component_v_client_table","ref","columns","_createBlock","_component_loading","ChartJS","register","ArcElement","Tooltip","Legend","name","mounted","this","$route","query","datos","fetchMetodos","beforeDestroy","clearTimeout","timeoutId","beforeRouteLeave","to","from","next","components","Pie","loading","ServerTable","Sucursal","cajasA","cajasB","mostrar","sesiones","TextoBuscado","cajasSelect","cajasAbiertas","cajasCerradas","cajasAbiertasPremiun","cajasCerradasPremiun","maintainAspectRatio","labels","datasets","sortIcon","is","base","up","down","texts","count","first","last","filter","filterPlaceholder","limit","page","noResults","noRequest","filterBy","defaultOption","perPage","perPageValues","headings","tiempoMaximo","tiempoMinimo","tiempoPromedio","methods","getAdjustedColor","colorNum","Math","max","parseInt","slice","adjustedColor","toString","padStart","toUpperCase","colors","length","getAllMetodos","setTimeout","AuthService","getMetodosMasEjecutados","then","response","Erroresnegocio","BTErrorNegocio","message","Descripcion","logout","$store","dispatch","$router","push","sdtEstadisticasMetodos","sBTEstadisticasMetodo","label","backgroundColor","map","_","$","document","ready","text","i","replace","hide","addClass","computed","height","__exports__","render"],"sourceRoot":""}