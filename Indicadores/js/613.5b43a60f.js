"use strict";(self["webpackChunkIndicadores"]=self["webpackChunkIndicadores"]||[]).push([[613],{25019:function(e,t,o){o.r(t),o.d(t,{default:function(){return R}});var s=o(73396),a=o(87139);const i=e=>((0,s.dD)("data-v-5641c58a"),e=e(),(0,s.Cn)(),e),r={class:"container"},c={key:0},n=i((()=>(0,s._)("hr",null,null,-1))),l={class:"row"},d={class:"col-6 d-flex justify-content-center"},u={class:"col-6"},m={class:"row"},h={class:"card mb-3"},p={class:"card-content"},g={class:"card-body"},f={class:"media d-flex"},j={class:"align-self-center"},v={class:"media-body"},_={class:"d-inline-block text-truncate",style:{"max-width":"140px","font-size":"smaller"}},b={class:"ml-3"},y=i((()=>(0,s._)("hr",null,null,-1))),C={class:"row"},E={class:"col-md-12 card"},w={class:"card-body"},M=i((()=>(0,s._)("h3",null,"Detalle de Métodos",-1))),S={class:""};function D(e,t,o,i,D,x){const T=(0,s.up)("Pie"),F=(0,s.up)("v-client-table"),P=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("h2",null,"Métodos Ejecutados de "+(0,a.zw)(this.objeto),1),D.cajas?((0,s.wg)(),(0,s.iD)("div",c,[n,(0,s._)("div",l,[(0,s._)("div",d,[(0,s.Wm)(T,{id:"my-chart-id",data:D.chartData,style:(0,a.j5)(x.myStyles),options:D.optionsChar},null,8,["data","style","options"])]),(0,s._)("div",u,[(0,s._)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.ServiciosEjecutados,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-6 text-truncate",key:e.servicio},[(0,s._)("div",h,[(0,s._)("div",p,[(0,s._)("div",g,[(0,s._)("div",f,[(0,s._)("div",j,[(0,s._)("i",{class:"icon-pie-chart font-large-1 float-left",style:(0,a.j5)({color:x.getOrderedColor(t)})},null,4)]),(0,s._)("div",v,[(0,s._)("span",_,(0,a.zw)(e.metodo),1),(0,s._)("p",b,(0,a.zw)(e.cantidadEjecuciones),1)])])])])])])))),128))])])]),y,(0,s._)("div",C,[(0,s._)("div",E,[(0,s._)("div",w,[M,(0,s._)("div",S,[(0,s.Wm)(F,{ref:"table",data:D.ServiciosEjecutados,columns:D.columns,options:D.options},null,8,["data","columns","options"])])])])])])):((0,s.wg)(),(0,s.j4)(P,{key:1}))])}o(57658);var x=o(29646),T=o(15866),F=o(11393),P=o(28666),k=o(49161);x.kL.register(x.qi,x.u,x.De);var A={name:"metodos",mounted(){this.objeto=this.$route.query.datos,this.fetchMetodos()},beforeDestroy(){clearTimeout(this.timeoutId)},beforeRouteLeave(e,t,o){clearTimeout(this.timeoutId),o()},components:{Pie:T.by,loading:P.Z,ServerTable:k.wv},data(){return{objeto:null,Sucursal:null,cajasA:!0,cajasB:!1,cajas:!1,ServiciosEjecutados:[],mostrar:!1,sesiones:null,TextoBuscado:"",cajasSelect:null,cajasAbiertas:[],cajasCerradas:[],cajasAbiertasPremiun:[],cajasCerradasPremiun:[],optionsChar:{maintainAspectRatio:!1},chartData:{labels:["January","February","March"],datasets:[{data:[40,20,12]}]},columns:["metodo","cantidadEjecuciones","tiempoPromedio","tiempoMaximo","tiempoMinimo"],options:{sortIcon:{is:"fa-sort",base:"fa",up:"fa-sort-asc",down:"fa-sort-desc"},texts:{count:"Mostrando {from} a {to} de {count} registros |{count} registros|Un registro",first:"Primero",last:"Ultimo",filter:"Filtro:",filterPlaceholder:"Búsqueda",limit:"Registros:",page:"Pagina:",noResults:"No hay registros coincidentes",noRequest:"Seleccione al menos un filtro para obtener resultados",filterBy:"Filtrar por {column}",loading:"Cargando...",defaultOption:"Seleccionar {column}",columns:"Columnas"},perPage:10,perPageValues:[10,25,50,100,500],headings:{metodo:"Nombre",tiempoMaximo:"Tiempo máx",tiempoMinimo:"Tiempo mín",tiempoPromedio:"Tiempo promedio",cantidadEjecuciones:"Cantidad ejecuciones"}}}},methods:{getAdjustedColor(e){const t=Math.max(0,parseInt(e.slice(1),16)-50),o=`#${t.toString(16).padStart(6,"0").toUpperCase()}`;return o},getOrderedColor(e){const t=["#FF5454","#FFFF90","#60C1FF","#FFC670","#8CC76D","#C187E8","#5D5A5D"];let o=t[e%t.length];return e>=t.length&&(o=this.getAdjustedColor(o)),o},async fetchMetodos(){await this.getAllMetodos(),this.timeoutId=setTimeout(this.fetchMetodos,3e5)},async getAllMetodos(){await F.Z.getMetodosMasEjecutados(this.objeto).then((e=>{e.Erroresnegocio&&e.Erroresnegocio.BTErrorNegocio[0]&&(this.message=e.Erroresnegocio.BTErrorNegocio[0].Descripcion,"Sesión inválida"==this.message&&setTimeout((()=>{F.Z.logout(),this.$store.dispatch("logout"),this.$router.push("/login")}),3e3)),this.cajas=!0,this.ServiciosEjecutados=e.sdtEstadisticasMetodos.sBTEstadisticasMetodo,this.chartData={datasets:[{label:"Cantidad de Ejecuciones",backgroundColor:this.ServiciosEjecutados.map(((e,t)=>this.getOrderedColor(t))),data:this.ServiciosEjecutados.map((e=>e.cantidadEjecuciones))}]},$(document).ready((function(){$(".VuePagination__count").text((function(e,t){return t.replace("Un registro","1 registro")})),$(".VueTables__search-field label").hide(),$(".VueTables__limit-field label").hide(),$(".VuePagination__pagination").addClass("justify-content-center")}))}))}},computed:{myStyles(){return{height:"500px"}}}},I=o(40089);const B=(0,I.Z)(A,[["render",D],["__scopeId","data-v-5641c58a"]]);var R=B}}]);
//# sourceMappingURL=613.5b43a60f.js.map